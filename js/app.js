var customSearch;if(function(e){"use strict";var t=80,o=e(".l_header");function a(o,a=t){const n=o.href?e(decodeURI(o.getAttribute("href"))):e(o);e("html, body").animate({scrollTop:n.offset().top-a},500)}function n(){const t=e(".menu .active"),n=e(".s-top"),i=e("h1.title","#header-meta"),s=e(".safearea");t.length&&s&&t.click(e=>{e.preventDefault(),e.stopPropagation(),"/"!=t.attr("href")&&a(s),e.stopImmediatePropagation(),t.unbind("click")}),i.length&&s&&i.click(e=>{e.preventDefault(),e.stopPropagation(),a(s),e.stopImmediatePropagation(),i.unbind("click")}),n.length&&s&&n.click(e=>{e.preventDefault(),e.stopPropagation(),a(s),e.stopImmediatePropagation()});const c=e(".cover-wrapper");var l=e("#pjax-enable-cover").text(),r=0;c[0]&&"true"==l&&"none"!==e(".cover-wrapper#half").css("display")&&(r=c[0].clientHeight-240);var d=document.body.scrollTop;"true"==l&&"none"===e(".cover-wrapper#half").css("display")&&(d+=240),e(document,window).scroll(()=>{let t=e(window).scrollTop();"true"==l&&"none"===e(".cover-wrapper#half").css("display")&&(t+=240);const a=t-d;d=t,t>240?(n.addClass("show"),a>0?n.removeClass("hl"):n.addClass("hl")):n.removeClass("show").removeClass("hl"),t-r>-1?o.addClass("show"):o.removeClass("show")})}function i(){if("true"==e.trim(e("#pjax-ispage").text())&&(window.subData={title:e.trim(e("#pjax-pageTitle").text()),tools:!0}),!window.subData)return;const t=e("header .wrapper"),o=e(".s-comment",t),n=e(".s-toc",t);t.find(".nav-sub .title").text(window.subData.title);let i=document.body.scrollTop;e(document,window).scroll(()=>{const o=e(window).scrollTop(),a=o-i;a>=50&&o>100?(i=o,t.addClass("sub")):a<=-50&&(i=o,t.removeClass("sub"))}),e(".l_body article#comments").length?o.click(t=>{t.preventDefault(),t.stopPropagation(),a(e(".l_body article#comments")),t.stopImmediatePropagation()}):o.remove();const s=e(".l_body .toc-wrapper");s.length&&s.children().length?(n.click(e=>{e.stopPropagation(),s.toggleClass("active"),n.toggleClass("active")}),e(document).click(function(e){e.stopPropagation(),s.removeClass("active"),n.removeClass("active")}),e(document,window).scroll(()=>{s.removeClass("active"),n.removeClass("active")})):n.remove()}function s(){var t=e("body .navigation");t.find("li a.active").removeClass("active"),t.find("div a.active").removeClass("active");var o=null,a=location.pathname.replace(/\/|%|\./g,"");0==a.length&&(a="home");var n=a.match(/page\d{0,}$/g);n&&(n=n[0],a=a.split(n)[0]);var i,s=a.match(/index.html/);s&&(s=s[0],a=a.split(s)[0]),a&&t&&(o=e("#"+a,t),(i=o)&&i.length&&i.addClass("active").siblings().removeClass("active"))}function c(){e(document).click(function(t){e(".m-phone .list-v").hide()}),e(window).scroll(()=>{e(".m-phone .list-v").hide()})}function l(){const o=e(".toc-wrapper");if(0===o.length)return;o.click(e=>{e.stopPropagation(),o.addClass("active")}),e(document).click(()=>o.removeClass("active")),o.on("click","a",t=>{t.preventDefault(),t.stopPropagation(),"A"===t.target.tagName?a(t.target,0):"SPAN"===t.target.tagName&&a(t.target.parentElement,0),o.removeClass("active");const n=e(".s-toc");n.length>0&&n.removeClass("active")});let n=Array.from(o.find("li a")),i=()=>n.map(o=>Math.floor(e(decodeURI(o.getAttribute("href"))).offset().top-t)),s=i(),c=e(document).height(),l=()=>{let t=e("html").scrollTop()||e("body").scrollTop();if(e(document).height()!=c&&(t=e("html").scrollTop()||e("body").scrollTop(),c=e(document).height(),s=i()),!s)return;let o,a=0,l=s.length-1;for(;a<l;)s[o=a+l+1>>1]===t?a=l=o:s[o]<t?a=o:l=o-1;e(n).removeClass("active").eq(a).addClass("active")};e(window).scroll(()=>{l()});let r=null;e(window).bind("resize",function(){r&&clearTimeout(r),r=setTimeout(function(){s=i(),l()},100)}),l()}function r(){const t=e(".tabs");if(0===t.length)return;let o=t.find(".nav-tabs .tab");for(var a=0;a<o.length;a++){let e=t.find(o[a].children[0]);e.addClass(e.attr("href")),e.removeAttr("href")}e(".tabs .nav-tabs").on("click","a",t=>{t.preventDefault(),t.stopPropagation();let o=e(t.target.parentElement.parentElement.parentElement);return o.find(".nav-tabs .active").removeClass("active"),o.find(t.target.parentElement).addClass("active"),o.find(".tab-content .active").removeClass("active"),o.find(e(t.target).attr("class")).addClass("active"),!1})}o[0]&&(t=o[0].clientHeight+16),e(function(){var d,m,p;i(),s(),e(".m-pc li > a[href]").parent().click(function(t){t.stopPropagation(),t.target.origin==t.target.baseURI&&e(".m-pc .list-v").hide()}),e(".m-phone li").click(function(t){t.stopPropagation(),e(e(t.currentTarget).children("ul")).show()}),c(),d=e(".l_header .switcher .s-search"),m=e(".l_header"),p=e(".l_header .m_search"),0!==d.length&&(d.click(function(e){e.stopPropagation(),m.toggleClass("z_search-open"),d.toggleClass("active"),p.find("input").focus()}),e(document).click(function(e){m.removeClass("z_search-open"),d.removeClass("active")}),p.click(function(e){e.stopPropagation()}),m.ready(function(){m.bind("keydown",function(e){if(9==e.keyCode)return!1;var t,o,a=!!document.all;a?(t=window.event.keyCode,o=window.event):(t=e.which,o=e),9==t&&(a?(o.keyCode=0,o.returnValue=!1):(o.which=0,o.preventDefault()))})})),l(),n(),r(),e(".scroll-down").on("click",function(){a(".safearea")});try{document.addEventListener("pjax:complete",function(){e(function(){t=80,(o=e(".l_header"))[0]&&(t=o[0].clientHeight+16),i(),s(),c(),l(),n(),r();var a=e(".l_header .switcher .s-search"),d=e(".l_header");0!==a.length&&e(document).click(function(e){d.removeClass("z_search-open"),a.removeClass("active")})})})}catch(e){}})}(jQuery),window.location.hash)var checkExist=setInterval(function(){"undefined"!=typeof jQuery&&$("#"+decodeURI(window.location.hash.split("#")[1]).replace(/\ /g,"-")).length&&($("html, body").animate({scrollTop:$("#"+decodeURI(window.location.hash.split("#")[1]).replace(/\ /g,"-")).offset().top-40},500),clearInterval(checkExist))},100);$.extend({message:function(e){var t={title:"",message:" 操作成功",time:"3000",type:"success",showClose:!0,autoClose:!0,onClose:function(){}};"string"==typeof e&&(t.message=e),"object"==typeof e&&(t=$.extend({},t,e));var o,a,n,i=t.showClose?'<div class="c-message--close">×</div>':"",s=""!==t.title?'<h2 class="c-message__title">'+t.title+"</h2>":"",c='<div class="c-message animated animated-lento slideInRight"><i class=" c-message--icon c-message--'+t.type+'"></i><div class="el-notification__group">'+s+'<div class="el-notification__content">'+t.message+"</div>"+i+"</div></div>",l=$("body"),r=$(c);a=function(){r.addClass("slideOutRight"),r.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){n()})},n=function(){r.remove(),t.onClose(t),clearTimeout(o)},$(".c-message").remove(),l.append(r),r.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){r.removeClass("messageFadeInDown")}),l.one("click",".c-message--close",function(e){a()}),t.autoClose&&(o=setTimeout(function(){a()},t.time))}});